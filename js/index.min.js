document.querySelector("body").classList.remove("no-js");const lenis=new Lenis;function raf(e){lenis.raf(e),requestAnimationFrame(raf)}function initLenisLinks(){document.querySelectorAll("a[lenis-link]").forEach(e=>{e.getAttribute("lenis-link")&&(linkSection="#"+e.getAttribute("lenis-link"),e.addEventListener("click",function(){setTimeout(()=>{lenis.scrollTo(linkSection)},"50")}))})}function initAnimations(){function e(e){gsap.set(e,{visibility:"hidden"})}function t(e){let t=gsap.getTweensOf(e);for(let r=0;r<t.length;r++)t[r].pause()}gsap.registerPlugin(ScrollTrigger),ScrollTrigger.defaults({once:!0,start:"top 100%"}),gsap.defaults({ease:"power4"});let r=gsap.matchMedia(),i=document.querySelector(".mobile-menu"),s=document.querySelectorAll(".mobile-menu-btn"),o=document.querySelectorAll(".mobile-menu-overlay, .mobile-menu .close-btn, .mobile-menu a"),a=gsap.timeline({paused:!0});a.to(".mobile-menu",{display:"block"}).from(".mobile-menu-wrapper",{xPercent:100,duration:.3},0).to(".mobile-menu__header",{autoAlpha:1,duration:.2},">-0.2").fromTo(".mobile-menu .nav-menu > .nav-item",{opacity:0,yPercent:-50},{visibility:"inherit",opacity:1,yPercent:0,stagger:.03,duration:.1},">-0.2"),s&&s.forEach(e=>{e.addEventListener("click",function(){i.classList.add("menu-open"),lenis.stop(),document.querySelector("html").classList.add("menu-open"),a.play()}),o&&o.forEach(e=>e.addEventListener("click",function(){lenis.start(),document.querySelector("html").classList.remove("menu-open"),a.tweenTo(0,{duration:.25,ease:Power2.easeOut})}));let t=[...e.querySelectorAll(".mobile-menu-btn__line")],r=gsap.timeline({paused:!0});r.to(t,{marginLeft:32,duration:.2,stagger:.1},0).to(t,{marginLeft:0,duration:.2,stagger:.1},.2),e.addEventListener("mouseenter",function(){r.progress(0),r.play()}),e.addEventListener("mouseleave",function(){r.reverse()})});let n=document.querySelector(".header-sticky");if(n){let l=gsap.to(n,{y:0,paused:!0,duration:.1});ScrollTrigger.create({trigger:"body",once:!1,start:"250 top",end:"bottom bottom",onUpdate(e){-1===e.direction&&0!==e.progress?(n.classList.remove("hide"),l.play()):(n.classList.add("hide"),l.reverse())}})}let c=document.querySelectorAll('[data-gsap="text-clip-reveal"], .home-hero-h1');function u(e){gsap.to(e,{duration:1,autoAlpha:1})}c&&c.forEach(e=>{!function e(t){let r=new SplitType(t,{split:"words",tagName:"span"});r.words.forEach(e=>{$(e).wrapInner("<span></span>")})}(e)});let d=document.querySelectorAll('[data-gsap="fade-reveal"]');d&&ScrollTrigger.batch(d,{once:!0,onEnter(e){u(e)}});let h=document.querySelectorAll('[data-gsap="fade-up-reveal"]');h&&ScrollTrigger.batch(h,{once:!0,onEnter(e){var t;t=e,gsap.fromTo(t,{y:100},{duration:1,autoAlpha:1,y:0})}});let p=document.querySelectorAll('[data-gsap="fade-down-reveal"]');p&&ScrollTrigger.batch(p,{once:!0,onEnter(e){var t;t=e,gsap.fromTo(t,{y:-100},{duration:1,autoAlpha:1,y:0})}});let m=document.querySelectorAll(".divider");m&&ScrollTrigger.batch(m,{once:!0,onEnter(e){var t;t=e,gsap.fromTo(t,{visibility:"inherit",width:"0%"},{delay:.2,duration:1,width:"100%"})}});let f=document.querySelectorAll('[data-gsap="icons-horizontal"]');f&&f.forEach(e=>{ScrollTrigger.create({trigger:e,onEnter(){var t;t=e.children,gsap.fromTo(t,{opacity:0},{visibility:"inherit",opacity:1,duration:1.75,stagger:.05,x:0})}})});let y=document.querySelectorAll('[data-gsap="footer-nav"]');y&&y.forEach(e=>{ScrollTrigger.create({trigger:e,onEnter(){var t;t=e.querySelectorAll("a"),gsap.fromTo(t,{x:"-24"},{delay:.25,duration:.3,stagger:.1,autoAlpha:1,x:0})}})}),r.add({isDesktop:"(min-width: 992px)",isTablet:"(max-width: 991px)",isLandscape:"(max-width: 767px)",isMobile:"(max-width: 479px)",reduceMotion:"(prefers-reduced-motion: reduce)"},t=>{let{isDesktop:r,isTablet:i,isLandscape:s,isMobile:o,reduceMotion:a}=t.conditions;function n(e){gsap.fromTo(e,{visibility:"inherit",clipPath:"inset(-100% 100% -100% -100%)"},{clipPath:"inset(-100% 0% -100% -100%)",onComplete:function(){gsap.set(this.targets(),{clearProps:"clipPath"})}})}let l=document.querySelectorAll('[data-gsap="mask-reveal"]');l&&r&&ScrollTrigger.batch(l,{once:!0,onEnter(e){n(e)}});let c=document.querySelectorAll('[data-gsap="card-group"]');c&&ScrollTrigger.batch(c,{once:!0,onEnter(e){var t;t=e,gsap.fromTo(t,{x:s?0:"-24",yPercent:s?30:0},{duration:1,stagger:s?0:.3,autoAlpha:1,x:0,yPercent:0})}});let d=document.querySelector(".header-transparent");d&&(r?gsap.to(d,{autoAlpha:1,delay:.75,scrollTrigger:{trigger:d}}):gsap.set(d,{autoAlpha:1,duration:0}));if(document.querySelector(".home-hero")){let h=gsap.timeline({paused:!0}),p=document.querySelector(".home-hero-h1"),m=document.querySelector(".home-hero-p"),f=document.querySelector(".home-hero-bg__mark"),y=document.querySelector(".home-radial-glow"),g=document.querySelector(".home-hero .start-form");e(p),m&&e(m),e(f),e(y),e(g),m&&h.call(u,[m],.75),h.call(r?n:u,[g],.25).fromTo(f,{visibility:"inherit",opacity:0},{opacity:.04,duration:2.5}).fromTo(y,{visibility:"inherit",opacity:0},{opacity:.5,duration:2.5,onComplete:function(){gsap.fromTo(y,{opacity:.5},{ease:"none",opacity:0,overwrite:"auto",scrollTrigger:{trigger:y,once:!1,scrub:!0,start:"clamp(50% 100%)",end:"+=100%"}})}},"<"),h.play()}let v=document.querySelectorAll('[data-gsap="scroll-inset-clip"]');if(v&&r&&v.forEach(e=>{gsap.fromTo(e,{visibility:"inherit",duration:0,clipPath:"inset(0% 20% round 12px)"},{ease:"none",duration:.5,clipPath:"inset(0% 0% round 24px)",scrollTrigger:{trigger:e,scrub:!0,once:!1,end:"+=60%"}})}),r){let b=document.querySelectorAll(".video-bg__lightbox.cursor-follow");b&&b.forEach(e=>{let t=e.querySelectorAll(".cursor-follow .video-bg__play");e.addEventListener("mousemove",function r(i){let{left:s,top:o,width:a,height:n}=e.getBoundingClientRect(),l=a/2,c=n/2,u=i.x-s,d=i.y-o,h=gsap.utils.interpolate(-l,l,u/a),p=gsap.utils.interpolate(-c,c,d/n);gsap.to(t,{x:h,y:p,duration:.5,overwrite:!0})}),e.addEventListener("mouseleave",function e(r){gsap.to(t,{x:0,y:0,duration:.6,overwrite:!0})})})}if(document.querySelector(".form-signup__wrapper")){function S(e){let t=gsap.timeline();t.set(".form-signup__wrapper",{display:"flex"}),t.fromTo(e,{visibility:"inherit",clipPath:"inset(0% 100% 0% 0%)"},{clipPath:"inset(0% 0% 0% 0%)"})}let E=document.querySelectorAll(".form-signup__success"),q=document.querySelectorAll(".form-signup__error"),_={attributes:!0,attributeFilter:["style"]},A=(e,t)=>{for(let r of e)"style"===r.attributeName&&(r.target.style.display,t.disconnect(),S(r.target))},T=new MutationObserver(A);E.forEach(e=>{T.observe(e,_)}),q.forEach(e=>T.observe(e,_))}}),ScrollTrigger.refresh()}requestAnimationFrame(raf),window.addEventListener("DOMContentLoaded",initLenisLinks),window.addEventListener("DOMContentLoaded",initAnimations),$("option:first-child").attr("disabled",""),$("select").on("change",function(){$(this).css("color","var(--neutral-700)")}),$("select").on("click",function(){$(this).parent().hasClass("select-open")?$(this).parent().removeClass("select-open"):($(".select-wrapper").removeClass("select-open"),$(this).parent().addClass("select-open"))}),$(document).on("click",function(e){$(e.target).parent().hasClass("select-open")||$(".select-wrapper").removeClass("select-open")}),$("#af-description").attr("rows","5");const systemDate=new Date;let currentYearText=document.querySelector(".current-year");function initCustomForms(){document.querySelectorAll("button.btn-submit").forEach(e=>e.setAttribute("type","submit"));let e=RegExp(/^[^.](?!.*(\.)\1{1})[\w.!#$%&'*+\/=?^`{|}~-]+@[\w.-]+\.[a-z]{2,6}\b$/),t=RegExp(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+~#?&\/=]*)/),r=RegExp(/^(([(+]{1,2}\d{1,4}[)]?)[-.\s]?)?([(](\d{1,4})[)][-.\s]?)?((\d{1,12})[-.\s]?)+$/);class i{constructor(e){this.formElement=e,this.requiredFields=this.formElement.querySelectorAll('[custom-form-data*="required-field"], [custom-form-data*="required-group"]'),this.submitButton=this.formElement.querySelector('[type="submit"]'),this.submitButton.addEventListener("click",e=>{e.preventDefault(),this.submitForm()}),this.requiredFields.forEach(e=>{"required-group"===e.getAttribute("custom-form-data")?e.querySelectorAll("input").forEach(t=>{t.addEventListener("change",t=>{this.validationCheck([e])})}):e.addEventListener("change",t=>{this.validationCheck([e])})}),this.initAttributes(this.requiredFields),this.formErrors=!1}initAttributes(e){e.forEach(e=>{let t=e.parentElement.querySelector("label");t&&t.removeAttribute("for")})}submitForm(){if(this.validationCheck(this.requiredFields),!this.formErrors)return window.alert("This is a test form.")}fieldError(e,t){let r=document.querySelector(`[error-for="${e}"]`);r.querySelector("p").innerText=t,r.classList.add("error-triggered"),this.formErrors=!0}cleanErrors(e){this.formErrors=!1,e.forEach(e=>{let t=e.getAttribute("name");"required-group"===e.getAttribute("custom-form-data")&&(t=e.getAttribute("group-name"));document.querySelector(`[error-for="${t}"]`).classList.remove("error-triggered")})}validationCheck(i){this.cleanErrors(i),i.forEach(i=>{let s=i.getAttribute("name");if(i.maxLength&&i.removeAttribute("maxlength"),"INPUT"===i.tagName&&(""===i.value?this.fieldError(s,"Please fill out this field."):"email"!==i.type||e.test(i.value)?i.getAttribute("custom-form-data").includes("phone")&&!r.test(i.value)?this.fieldError(s,"Please enter a valid phone number."):i.getAttribute("custom-form-data").includes("url")&&!t.test(i.value)?this.fieldError(s,"Please enter a valid website."):"text"===i.type&&i.value.length>256?this.fieldError(s,"This field has a maximum length of 256 characters."):i.getAttribute("custom-form-data").includes("acceptance")&&!i.checked&&this.fieldError(s,"Please accept the terms before submitting the form."):this.fieldError(s,"Please enter a valid email.")),"TEXTAREA"===i.tagName&&(""===i.value?this.fieldError(s,"Please fill out this field."):i.value.length>500&&this.fieldError(s,"This field has a maximum length of 500 characters.")),"SELECT"===i.tagName&&""===i.value&&this.fieldError(s,"Please fill out this field."),i.classList.contains("radio-group")){let o=i.querySelectorAll("input"),a=!0,n=o[0].getAttribute("name");o.forEach(e=>{e.checked&&(a=!1)}),a&&this.fieldError(n,"Please select an option.")}})}}class s extends i{constructor(e){super(e),this.formSteps=[...this.formElement.querySelectorAll(".form-step")],this.formStepsWrapper=this.formElement.querySelector(".form-steps-wrapper"),this.backButtons=this.formElement.querySelectorAll(".form-step-back"),this.nextButtons=this.formElement.querySelectorAll(".form-step-next"),this.stepButtons=this.formElement.querySelectorAll(".step-item"),this.stepDividers=this.formElement.querySelectorAll(".step-divider"),this.currentIndex=0,this.formStepsWrapperWidth=null,this.stepHeight=null,this.resizeObserver={observe(){},disconnect(){}},this.resizeSteps(),this.formSteps.forEach((e,t)=>{0!==t&&gsap.set(e,{opacity:0,position:"absolute"})}),void 0!==window.ResizeObserver&&new ResizeObserver(function e(t,r=300){let i;return(...e)=>{clearTimeout(i),i=setTimeout(()=>{t.apply(this,e)},r)}}(e=>{e.forEach(e=>{let t,{contentRect:r}=e;t=Math.floor(r.width),this.formStepsWrapperWidth&&this.formStepsWrapperWidth!==t&&this.resizeSteps(),this.formStepsWrapperWidth=t})}),100).observe(this.formStepsWrapper),this.stepColorsTL=gsap.timeline({paused:!0}),this.stepButtons.forEach((e,t)=>{let r=e.querySelector(".step-bg"),i=e.querySelector(".step-number");if(t>0){let s=this.stepDividers[t-1].querySelector(".step-divider-fill"),o=gsap.to(s,{duration:.2,width:"100%"});this.stepColorsTL.add(o)}let a=gsap.to(r,{duration:.2,backgroundColor:"var(--primary-500)"}),n=gsap.to(i,{duration:.2,color:"#FFFFFF"});this.stepColorsTL.add([a,n]),this.stepColorsTL.add("step-"+t)}),this.backButtons.forEach(e=>{e.addEventListener("click",this.stepBack.bind(this))}),this.nextButtons.forEach(e=>{e.addEventListener("click",this.stepForward.bind(this))}),this.stepButtons.forEach((e,t)=>{e.addEventListener("click",(function(){this.currentIndex!==t&&(this.currentIndex<t&&this.validationCheck(this.getStepRequiredFields()),this.formErrors||(this.formStepTransition(this.currentIndex,t),this.formSteps[this.currentIndex].classList.remove("active-step"),this.currentIndex=t,this.formSteps[this.currentIndex].classList.add("active-step")),this.resizeSteps(),this.backToFormTop())}).bind(this))})}submitForm(){if(this.validationCheck(this.getStepRequiredFields()),!this.formErrors)return window.alert("This is a test form.");this.resizeSteps(),this.backToFormTop()}cleanErrors(e){return super.cleanErrors(e)}validationCheck(e){return super.validationCheck(e)}resizeSteps(){this.stepHeight=this.formSteps[this.currentIndex].getBoundingClientRect().height,this.formStepsWrapper.style.height=this.stepHeight+"px"}getStepRequiredFields(){return this.formSteps[this.currentIndex].querySelectorAll('[custom-form-data*="required-field"], [custom-form-data*="required-group"]')}formStepTransition(e,t){gsap.timeline().to(this.formSteps[e],{opacity:0,duration:.2}).to(this.formSteps[t],{opacity:1,duration:.2});let r="step-"+e,i="step-"+t;this.stepColorsTL.tweenFromTo(r,i,{ease:r<i?Power4.easeIn:Power4.easeOut,duration:.5})}backToFormTop(){lenis.scrollTo(this.formElement.offsetTop,{offset:-24})}stepBack(){0!==this.currentIndex&&(this.formStepTransition(this.currentIndex,this.currentIndex-1),this.formSteps[this.currentIndex].classList.remove("active-step"),this.currentIndex--,this.formSteps[this.currentIndex].classList.add("active-step"),this.stepColorsTL.tweenTo("step-"+this.currentIndex,{ease:Power4.easeOut}),this.resizeSteps(),this.backToFormTop())}stepForward(){this.currentIndex!==this.formSteps.length-1&&(this.validationCheck(this.getStepRequiredFields()),this.formErrors||(this.formStepTransition(this.currentIndex,this.currentIndex+1),this.formSteps[this.currentIndex].classList.remove("active-step"),this.currentIndex++,this.stepColorsTL.tweenTo("step-"+this.currentIndex,{ease:Power4.easeIn}),this.formSteps[this.currentIndex].classList.add("active-step")),this.resizeSteps(),this.backToFormTop())}}let o=document.querySelectorAll("form");o.forEach(e=>{e.classList.contains("multistep")?new s(e):new i(e)})}currentYearText.innerHTML=systemDate.getFullYear(),window.addEventListener("DOMContentLoaded",initCustomForms);